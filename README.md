# Interactive-Fairy-Tale

This choose your own adventure, built with Twine, mimics the evolution of traditional oral stories. Users can add their own branches to the story which are shared with everyone, creating an ever-expanding tale. This project includes a custom node.js server which extends the functionality of Twine to save user-added content for other users to see. 

## Web Link 
[Click here to play](https://tinyurl.com/interactive-story) (Edge or Safari recommended) 

## How to Run the Server
1. Clone the repo 
2. Donwload node.js (https://nodejs.org/en/download/) 
3. Open a terminal in the location of the repo on your machine 
4. Run the following command to install dependencies: ```npm install``` (only needed the first time) 
5. Run the following command to start the server: ```node index.js``` 
6. Leave the terminal open, and navigate to localhost:3000 in a web browser 
7. You should see the Twine! 
8. If you need to restart the server, return to the terminal, press Ctrl+C and then run ```node index.js``` again 
9. Note that you will only see the other user-added options from the website, not when you are running this on your local machine. But options you add from your machine will be sent to the website.

## How Does it Work? 
On its own, Twine does not support saving user input for future sessions. To get around this, we are using a node.js server to display the Twine and add some additional functionality. When a player adds a new option, the Twine makes a post call to the server, which saves that option in a local json file. Then, the server uses the info from the json file to show the option to all subsequent players. 

I also wrote the code to allow users to add new passages to the story, meaning they could create entirely new branches, however we didn't end up using it in the final story. This new feature could easily be added later. 

Finally, the css stylesheets get switched out at each step of the story, layering onto the visual appearance of the site as the player progresses. 

## Files 
* **Readme.md**: this file
* **index.js**: the main node.js server 
* **public/index.html**: the Twine (you can import this file into the Twine editor to make changes to it) 
* **public/index backup.html**: not used by the program, just a backup of index.html in case it gets corrupted 
* **public/indexUpdated.html**: not used by the program. This is the file generated by Twine without our custom styling
* **passages.json**: stores all of the options added by users 

## Known Issues 
* There is currently not an easy way to delete user-added passages other than manually, and no moderation of what is added to the site
* This is not a scalable solution - eventually we would want a proper database instead of using a local json file for storage 
* There may be errors when playing the story with Google Chrome. We recommend Edge or Safari. 

## Credits 

Behind this project are the following students from the EFI Narrative Futures programme: 
Olivia Thomas, Jenny Zhang, James Macrae, Alexandra Bruncrona, Sarah Noble  

The three stories used in this project were inspired by: 
* Rhodopis recounted by Strabo sometime around 7 BC and AD 23 
* Ye Xian written by Duan Chengshi around 860 
* Cinderella by Charles Perrault, 1697 
